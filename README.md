# Nemulert（ネムラート）

[![IMAGE ALT TEXT HERE](https://jphacks.com/wp-content/uploads/2025/05/JPHACKS2025_ogp.jpg)](https://www.youtube.com/watch?v=lA9EluZugD8)

## 製品概要

### デモ動画

[![thumbnail](https://github.com/user-attachments/assets/7f711d98-df43-4089-88fc-7636e6d86f01)](https://drive.google.com/file/d/1-69KKNDsiDJYcyj7FD5vImPnY_oJaMIT/preview)

### 背景 (製品開発のきっかけ、課題等)

誰しもが、レポートや試験勉強で夜遅くまで作業していて、気づいたら寝落ちをしていた。その結果、翌朝に「しまった」と後悔した経験があるのではないでしょうか。

私たちは、この「寝落ちをしたくない」というニーズに着目しました。 しかし、既存のアラームでは、このような予期せぬ寝落ちを防ぐことはできません。これらの問題を解決すべく、『寝落ち防止』×『Tech』をテーマに、 夜遅くまで頑張る人をターゲットとした**うとうと**で鳴らすアラームアプリ”Nemulert”を開発しました。

### 製品説明（具体的な製品の説明）

“Nemulte”は、AirPods で頭の傾きや動作から、ユーザーのうとうとを検知して起こす、新しいアラームアプリです。
従来の**時間**で鳴るアラームとは異なり、作業中や勉強中の**意図しない寝落ち**を防ぎます。ユーザーが深い眠りに入る直前にアラームを作動させ、起こすことができます。
これらの「寝落ち防止機能」を、夜遅くまで頑張る学生や社会人をターゲットとして提供することで、**寝落ちによる後悔**から解放する、新しい「アラーム体験」を提供します。

### 特長 (独自機能)

#### 1. AirPods を使用した「うとうと」の検知

普段使用している AirPods のセンサーを利用し、頭の傾きや動作を検知して「うとうと」を自動で検知します。既存のサービスである居眠り運転検知技術では、カメラで「まぶたの開閉」や「顔の向き」を監視する方法が主流でした。しかし、この方法には「常に撮影されるプライバシーの懸念」「照明など環境に左右されやすい精度」「カメラの前でしか使えない」といった課題がありました。
そこで Nemuleart は、これらの課題を解決するために AirPods のモーションセンサーに着目。AirPods を装着するだけで、アプリが頭の傾きや動作をもとに「うとうと」を検知します。カメラを一切使わないため、どんな環境でもうとうとの検知を実現しています。

#### 2. シンプルな操作性

AppIntents や ActivityKit、WidgetKit など、iOS の機能をフル活用して、ユーザー体験の親和性を高めました。さらに、WWDC25 で発表された、AlarmKit を活用し、システムと同じインターフェースを持つアラームを実装しました。

![launch](https://github.com/user-attachments/assets/03cf067e-e1ce-4b8a-915f-48cc3182a0a6)

#### 3. 「作業」か「睡眠」かを自分で決められる

アラームが鳴ることで、ユーザーは「意図せず寝てしまった」状態から、「意識的に行動を選択できる」状態になります。アラームをきっかけに、作業か睡眠を自分の意思で選択できるため、朝起きた時の「寝落ちによる後悔」から解放されます。

#### 4. 深い眠りを防ぐ「段階的アラーム」機能

うとうとを検知しても、すぐに大音量のアラームは鳴りません。まず 1 分間のタイマーが作動しユーザーに通知することで、「うとうとしそうだ」という状態を知らせます。タイマーが終了した時点でアラームが鳴るため、確実に「うとうと」の瞬間だけを捉えて起こします。

<video src="https://github.com/user-attachments/assets/1906ebfa-4e38-4833-b0b3-63dea68bf4a5" controls="true"></video>

#### 5. 夜に勉強や作業をするという特定のシーンに最適化

Nemulert は「夜の作業中に寝落ちしたくない人」をメインターゲットにしたアラームです。
夜の作業は、眠気と戦いながら無理をしてしまう時間帯。このアプリ は AirPods で“うとうと”を検知し、深い眠りに入る前に知らせることで、うとうとを防ぎながら、作業を続けるサポートをします。

### 解決出来ること

従来のアラームに比べて、このアプリでは、「予期せぬ寝落ち」を防ぐことができます。AirPods だけで動作するため、いつでもどこでも手軽に利用できる点も大きな特長です。
AirPods のようなウェアラブルデバイスが普及した現代において、これまで諦めるしかなかった「寝落ちによる後悔」という課題を解決する新しいアプローチを提供します。よりスマートに自己管理ができる新しい方法を実現します。

### 今後の展望（Kaizen Sprint で取り組みたいこと）

- 「うとうと」判定の精度を高める
- リリースし、その体験が本当に求められているものなのかを、ユーザーからのフィードバックをもと議論・検証し、改善する

### 注力したこと（こだわり等）

- うとうとを検知する機械学習モデルを作成して使用した
  - うとうとしている状態のモーションデータを収集してデータセット(100 件以上)を作成した
  - GPT-5 にデータセットの特徴量を分析してもらった
  - データセットと Create ML アプリを使用して Core ML モデルを作成した
  - モデルを Swift から使用した
- デザインのこだわり
  - アニメーション
  - UI や操作/アクションを必要最低限にした
    - 1 画面で完結する UI
    - ユーザーの学習性や利便性の向上
    - <video src="https://github.com/user-attachments/assets/c5a2d630-c68a-4d86-b2a6-054727d80426" controls="true"></video>
  - アイコン
    - icon composer を使用して、liquid glass を考慮した
    - アラートでびっくりして目覚めたことを「!」で表現した
    - 「!」の下の部分は AirPods を表現した
- UX
  - アプリ起動
    - 検知開始
  - 居眠り検知
  - アラームのカウントダウン開始
    - 起きていた場合: 1 分以内にそのタイマーを止める
    - 起きていない場合: アラームが鳴る
- MVP
  - モーションデータを取得
  - 居眠り検知
  - AlarmKit
  - Live Activity
  - App Intent で起動 (App Shortcut 経由)
  - 居眠り疑いでプッシュ通知
    - アラームが起動したことを通知
  - プッシュ通知に応答
    - アラーム解除

## 開発技術

#### フレームワーク・ライブラリ・モジュール

- ActivityKit
- AlarmKit
- App Intents
- Core ML
- Core Motion
- Lottie for iOS
- SwiftUI
- WidgetKit

#### デバイス

- AirPods
- iPhone
